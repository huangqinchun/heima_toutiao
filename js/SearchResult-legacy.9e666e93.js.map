{"version":3,"file":"js/SearchResult-legacy.9e666e93.js","mappings":"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","sources":["webpack://toutiao/./src/components/ArticleItem.vue?fc1a","webpack://toutiao/./src/api/report.js","webpack://toutiao/src/components/ArticleItem.vue","webpack://toutiao/./src/components/ArticleItem.vue?d5bf","webpack://toutiao/./src/components/ArticleItem.vue","webpack://toutiao/./src/views/Search/SearchResult.vue?e5e4","webpack://toutiao/src/views/Search/SearchResult.vue","webpack://toutiao/./src/views/Search/SearchResult.vue?ff35","webpack://toutiao/./src/views/Search/SearchResult.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-cell',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"title-box\"},[_c('span',[_vm._v(_vm._s(_vm.artObj.title))]),(_vm.artObj.cover.type === 1)?_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.artObj.cover.images,\"alt\":\"\"}}):_vm._e()]),(_vm.artObj.cover.type > 1)?_c('div',{staticClass:\"thumb-box\"},_vm._l((_vm.artObj.cover.images),function(imgUrl,index){return _c('img',{key:index,staticClass:\"thumb\",attrs:{\"src\":imgUrl}})}),0):_vm._e()]},proxy:true},{key:\"label\",fn:function(){return [_c('div',{staticClass:\"label-box\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.artObj.aut_name))]),_c('span',[_vm._v(_vm._s(_vm.artObj.comm_count)+\"评论\")]),_c('span',[_vm._v(_vm._s(_vm.formatTime(_vm.artObj.pubdate)))])]),(_vm.SearchParam)?_c('van-icon',{attrs:{\"name\":\"cross\"},on:{\"click\":function($event){$event.stopPropagation();_vm.show = true}}}):_vm._e()],1)]},proxy:true}])}),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"get-container\":\"body\",\"cancel-text\":_vm.bottomText},on:{\"select\":_vm.onSelect,\"cancel\":_vm.cancelFn,\"close\":_vm.closeFn},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 封装一些固定的数据\r\n\r\n// ArticleItem文章组件反馈面板的内容actions\r\nexport const firstActions = [\r\n  { name: '不感兴趣' },\r\n  { name: '反馈垃圾内容' }\r\n]\r\n\r\nexport const secondActions = [\r\n  {\r\n    value: 0,\r\n    name: '其它问题'\r\n  },\r\n  {\r\n    value: 1,\r\n    name: '标题夸张'\r\n  },\r\n  {\r\n    value: 2,\r\n    name: '低俗色情'\r\n  },\r\n  {\r\n    value: 3,\r\n    name: '错别字多'\r\n  },\r\n  {\r\n    value: 4,\r\n    name: '旧闻重复'\r\n  },\r\n  {\r\n    value: 6,\r\n    name: '内容不实'\r\n  },\r\n  {\r\n    value: 8,\r\n    name: '侵权'\r\n  },\r\n  {\r\n    value: 5,\r\n    name: '广告软文'\r\n  },\r\n  {\r\n    value: 7,\r\n    name: '涉嫌违法犯罪'\r\n  }\r\n]\r\n","<template>\r\n  <div>\r\n    <!-- 一条文章单元格 -->\r\n    <van-cell>\r\n      <!-- 标题区域的插槽 -->\r\n      <template #title>\r\n        <div class=\"title-box\">\r\n          <!-- 标题 -->\r\n          <span>{{ artObj.title }}</span>\r\n          <!-- 单图图片 -->\r\n          <img v-if=\"artObj.cover.type === 1\" :src=\"artObj.cover.images\" alt=\"\" class=\"thumb\">\r\n        </div>\r\n\r\n        <!-- 三图 -->\r\n        <div class=\"thumb-box\" v-if=\"artObj.cover.type > 1\">\r\n          <img class=\"thumb\" :src=\"imgUrl\" v-for=\"(imgUrl, index) in artObj.cover.images\" :key=\"index\" />\r\n        </div>\r\n      </template>\r\n      <!-- label 区域的插槽 -->\r\n      <template #label>\r\n        <div class=\"label-box\">\r\n          <div>\r\n            <span>{{ artObj.aut_name }}</span>\r\n            <span>{{ artObj.comm_count }}评论</span>\r\n            <span>{{ formatTime(artObj.pubdate) }}</span>\r\n          </div>\r\n          <!-- 反馈按钮 -->\r\n          <van-icon name=\"cross\" @click.stop=\"show = true\" v-if=\"SearchParam\" />\r\n        </div>\r\n      </template>\r\n    </van-cell>\r\n\r\n    <!-- 反馈面板,和反馈按钮绑定 -->\r\n    <van-action-sheet v-model=\"show\" :actions=\"actions\" @select=\"onSelect\" get-container=\"body\"\r\n      :cancel-text=\"bottomText\" @cancel=\"cancelFn\" @close=\"closeFn\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入封装的时间处理的方法\r\nimport { timeAgo } from '@/utils/date.js'\r\n// 导入actions的数据\r\nimport { firstActions, secondActions } from '@/api/report'\r\n\r\nexport default {\r\n  name: 'ArticleItem',\r\n  props: {\r\n    artObj: Object,\r\n    SearchParam: { default: true }\r\n  },\r\n  data() {\r\n    return {\r\n      // 自定义了一个方法，就是导入来的时间处理函数。这里我们没有放在methods中，data中一样可以使用\r\n      formatTime: timeAgo,\r\n      show: false,\r\n      actions: firstActions,\r\n      bottomText: '取消'\r\n    }\r\n  },\r\n  methods: {\r\n    // 反馈面板点击事件\r\n    onSelect(action) {\r\n      if (action.name === '反馈垃圾内容') {\r\n        this.actions = secondActions\r\n        this.bottomText = '返回'\r\n      } else if (action.name === '不感兴趣') {\r\n        // 父组件文章列表有不喜欢文章的API，通过自定义事件向其传不喜欢文章的id过去\r\n        // 每个文章是一个独立的组件，只是被渲染到列表中有很多，所以这里点的谁，this就是哪个文章的组件\r\n        this.$emit('dislikeEV', this.artObj.art_id)\r\n        // 子向父传值自定义事件\r\n        // 随后关闭反馈面板\r\n        this.show = false\r\n      } else {\r\n        // 点击二级反馈面板的选项\r\n        this.$emit('reportEV', this.artObj.art_id, action.value)\r\n        this.show = false\r\n      }\r\n    },\r\n    // 点击取消或返回按钮触发\r\n    cancelFn() {\r\n      if (this.bottomText === '返回') {\r\n        this.actions = firstActions\r\n        this.bottomText = '取消'\r\n        this.show = true\r\n      }\r\n    },\r\n    // 点击遮罩时触发的关闭事件方法\r\n    closeFn() {\r\n      this.actions = firstActions\r\n      this.bottomText = '取消'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n   <style scoped lang=\"less\">\r\n/* 标题样式 */\r\n.title-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n\r\n/* label描述样式 */\r\n.label-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n/* 文章信息span */\r\n.label-box span {\r\n  margin: 0 3px;\r\n\r\n  &:first-child {\r\n    margin-left: 0;\r\n  }\r\n}\r\n\r\n// 单图\r\n.thumb {\r\n  width: 113px;\r\n  height: 70px;\r\n  background-color: #f8f8f8;\r\n  object-fit: cover;\r\n}\r\n\r\n/* 三图, 图片容器 */\r\n.thumb-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleItem.vue?vue&type=template&id=5bbd6f11&scoped=true&\"\nimport script from \"./ArticleItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleItem.vue?vue&type=style&index=0&id=5bbd6f11&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bbd6f11\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-result-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"搜索结果\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}})],1),_c('div',[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":false,\"offset\":\"50\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.articleList),function(item){return _c('ArticleItem',{key:item.art_id,attrs:{\"artObj\":item,\"SearchParam\":false},nativeOn:{\"click\":function($event){return _vm.itemClickFn(item.art_id)}}})}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 搜索结果页-头部导航 -->\r\n    <div class=\"search-result-container\">\r\n      <!-- 点击实现后退效果 -->\r\n      <van-nav-bar title=\"搜索结果\" left-arrow @click-left=\"$router.go(-1)\" fixed />\r\n    </div>\r\n\r\n    <div>\r\n      <!-- 上拉加载更多组件 -->\r\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\" :immediate-check=\"false\"\r\n        offset=\"50\">\r\n        <!-- 文章列表 -->\r\n        <ArticleItem v-for=\"item in articleList\" :key=\"item.art_id\" :artObj=\"item\" :SearchParam=\"false\"\r\n          @click.native=\"itemClickFn(item.art_id)\"></ArticleItem>\r\n        <!-- 组件本来是没有点击事件的，.native可以给组件绑定点击事件 -->\r\n      </van-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 搜索结果Api\r\nimport { searchResultListAPI } from '@/api/index'\r\n\r\n// 导入文章列表的组件\r\nimport ArticleItem from '@/components/ArticleItem.vue'\r\n\r\nexport default {\r\n  name: 'SearchResult',\r\n  components: {\r\n    ArticleItem\r\n  },\r\n  props: ['kw'],\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      articleList: [],\r\n      loading: false,\r\n      finished: false\r\n    }\r\n  },\r\n  methods: {\r\n    // 上拉加载事件方法\r\n    async onLoad() {\r\n      if (this.articleList.length > 0) {\r\n        this.page++\r\n        const { data: res } = await searchResultListAPI({\r\n          page: this.page,\r\n          kw: this.kw\r\n        })\r\n        if (res.data.results.length === 0) {\r\n          this.finished = true\r\n        }\r\n        this.articleList = [...this.articleList, ...res.data.results]\r\n        this.loading = false\r\n      }\r\n    },\r\n    // 点击每个文章组件触发的方法\r\n    itemClickFn(id) {\r\n      this.$router.push({\r\n        // 路径中传入查询参数，把文章id传给服务器\r\n        path: `/detail?art_id=${id}`\r\n      })\r\n    }\r\n  },\r\n  async created() {\r\n    const { data: res } = await searchResultListAPI({\r\n      page: this.page,\r\n      kw: this.kw\r\n    })\r\n    this.articleList = res.data.results\r\n  }\r\n}\r\n</script>\r\n\r\n   <style lang=\"less\" scoped>\r\n.search-result-container {\r\n  padding-top: 46px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResult.vue?vue&type=template&id=5ba8c743&scoped=true&\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResult.vue?vue&type=style&index=0&id=5ba8c743&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba8c743\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","scopedSlots","_u","key","fn","staticClass","_v","_s","artObj","title","cover","type","attrs","images","_e","_l","imgUrl","index","proxy","aut_name","comm_count","formatTime","pubdate","on","$event","stopPropagation","show","actions","bottomText","onSelect","cancelFn","closeFn","model","value","callback","$$v","expression","staticRenderFns","firstActions","name","secondActions","props","SearchParam","default","data","methods","action","component","$router","go","finished","onLoad","loading","item","art_id","nativeOn","itemClickFn","components","ArticleItem","page","articleList","searchResultListAPI","kw","res","id","path","created"],"sourceRoot":""}